version: '1.0.{build}'

environment:
  matrix:
    fast_finish: true
    
    - APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2019
      platform: x64
      configuration: Release
      toolchain: "a"

    # - APPVEYOR_BUILD_WORKER_IMAGE: Ubuntu
    #   toolchain: "toolchains/generic/Emscripten.cmake"
    #   configuration: Release

# Configure Environment
install:
  - git submodule update --init --recursive

# Configure
before_build:
  - cmake . -DCMAKE_TOOLCHAIN_FILE="%toolchain%"

# Build
build_script:
  - cmake --build .

# Run Tests
test_script:
  - ctest -V
