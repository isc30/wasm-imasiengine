version: '1.0.{build}'

os:
  - Visual Studio 2017
  - Visual Studio 2019

platform:
  - x86
  - x64
 
configuration:
  - Debug
  - Release

environment:
  CTEST_OUTPUT_ON_FAILURE: 1
  matrix:
  - BUILD: msvc
    CONFIG: Debug
  - BUILD: msvc
    CONFIG: Release
  - BUILD: mingw
    CONFIG: Debug
  - BUILD: mingw
    CONFIG: Release

# Configure Environment
install:
  - git submodule update --init --recursive

# Configure
before_build:
  - cmake .

# Build
build_script:
  - cmake --build .

# Run Tests
test_script:
  - ctest -V
