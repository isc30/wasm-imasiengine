version: '1.0.{build}'

environment:
  matrix:
    - os: Visual Studio 2019
      platform: x86
      configuration: Debug

    - toolchain: "toolchains/generic/Emscripten.cmake"
      configuration: Debug

# Configure Environment
install:
  - git submodule update --init --recursive

# Configure
before_build:
  - cmake . -DCMAKE_TOOLCHAIN_FILE="%TOOLCHAIN%"

# Build
build_script:
  - cmake --build .

# Run Tests
test_script:
  - ctest -V
